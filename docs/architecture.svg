<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 820" font-family="Inter, -apple-system, sans-serif">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="stratGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#0f3460"/>
      <stop offset="100%" style="stop-color:#16213e"/>
    </linearGradient>
    <linearGradient id="traderGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1a1a2e"/>
      <stop offset="100%" style="stop-color:#0f3460"/>
    </linearGradient>
    <linearGradient id="dataGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#533483"/>
      <stop offset="100%" style="stop-color:#0f3460"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1100" height="820" rx="12" fill="#0a0a1a"/>

  <!-- Title -->
  <rect x="20" y="15" width="1060" height="55" rx="10" fill="url(#headerGrad)" filter="url(#shadow)"/>
  <text x="550" y="50" text-anchor="middle" fill="#e94560" font-size="22" font-weight="bold">ğŸ¤– Autonomous Stock Trading Agent â€” Architecture</text>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- MAIN LOOP (main.py)               -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="30" y="85" width="1040" height="55" rx="8" fill="#16213e" stroke="#e94560" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="550" y="118" text-anchor="middle" fill="#fff" font-size="15" font-weight="bold">main.py â€” Event Loop &amp; Orchestrator</text>
  <text x="950" y="118" text-anchor="middle" fill="#aaa" font-size="11">async cycles Â· market-hour gating Â· ticker routing</text>

  <!-- Arrow from main to strategy -->
  <line x1="550" y1="140" x2="550" y2="160" stroke="#e94560" stroke-width="2" marker-end="url(#arrowRed)"/>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- STRATEGY LAYER                     -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="30" y="160" width="1040" height="305" rx="10" fill="none" stroke="#0f3460" stroke-width="1" stroke-dasharray="6,3"/>
  <text x="50" y="182" fill="#53a8b6" font-size="13" font-weight="bold">strategy/</text>

  <!-- engine.py -->
  <rect x="380" y="195" width="340" height="50" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="550" y="225" text-anchor="middle" fill="#fff" font-size="14" font-weight="bold">engine.py â€” Strategy Engine</text>

  <!-- Row 2: AI, Technical, News -->
  <rect x="50" y="270" width="200" height="70" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="150" y="297" text-anchor="middle" fill="#e94560" font-size="13" font-weight="bold">ğŸ§  ai.py</text>
  <text x="150" y="317" text-anchor="middle" fill="#aaa" font-size="10">LLM Analysis + Review</text>
  <text x="150" y="330" text-anchor="middle" fill="#7a7" font-size="9">Cache (15m TTL)</text>

  <rect x="280" y="270" width="200" height="70" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="380" y="297" text-anchor="middle" fill="#53a8b6" font-size="13" font-weight="bold">ğŸ“Š technical.py</text>
  <text x="380" y="317" text-anchor="middle" fill="#aaa" font-size="10">RSI Â· MACD Â· Bollinger</text>
  <text x="380" y="330" text-anchor="middle" fill="#aaa" font-size="10">SMA Â· Support/Resist</text>

  <rect x="510" y="270" width="200" height="70" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="610" y="297" text-anchor="middle" fill="#f5a623" font-size="13" font-weight="bold">ğŸ“° news.py</text>
  <text x="610" y="317" text-anchor="middle" fill="#aaa" font-size="10">GoogleNews + Caching</text>
  <text x="610" y="330" text-anchor="middle" fill="#aaa" font-size="10">Sentiment Analysis</text>

  <rect x="740" y="270" width="200" height="70" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="840" y="297" text-anchor="middle" fill="#9b59b6" font-size="13" font-weight="bold">ğŸ›¡ï¸ risk.py</text>
  <text x="840" y="317" text-anchor="middle" fill="#aaa" font-size="10">Position Sizing</text>
  <text x="840" y="330" text-anchor="middle" fill="#aaa" font-size="10">Capital Limits</text>

  <!-- Row 3: Market Hours, Scanner, Earnings -->
  <rect x="50" y="365" width="200" height="55" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="150" y="390" text-anchor="middle" fill="#2ecc71" font-size="12" font-weight="bold">ğŸ• market_hours.py</text>
  <text x="150" y="408" text-anchor="middle" fill="#aaa" font-size="10">Holidays Â· Early Close</text>

  <rect x="280" y="365" width="200" height="55" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="380" y="390" text-anchor="middle" fill="#3498db" font-size="12" font-weight="bold">ğŸ” scanner.py</text>
  <text x="380" y="408" text-anchor="middle" fill="#aaa" font-size="10">Market Trend Detection</text>

  <rect x="510" y="365" width="200" height="55" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="610" y="390" text-anchor="middle" fill="#e67e22" font-size="12" font-weight="bold">ğŸ“… earnings.py</text>
  <text x="610" y="408" text-anchor="middle" fill="#aaa" font-size="10">Quarterly Results + Warnings</text>

  <rect x="740" y="365" width="200" height="55" rx="8" fill="url(#stratGrad)" filter="url(#shadow)"/>
  <text x="840" y="390" text-anchor="middle" fill="#1abc9c" font-size="12" font-weight="bold">âš™ï¸ agent_config.py</text>
  <text x="840" y="408" text-anchor="middle" fill="#aaa" font-size="10">Regional Watchlists</text>

  <!-- Connectors from engine to row 2 -->
  <line x1="450" y1="245" x2="150" y2="270" stroke="#444" stroke-width="1"/>
  <line x1="500" y1="245" x2="380" y2="270" stroke="#444" stroke-width="1"/>
  <line x1="600" y1="245" x2="610" y2="270" stroke="#444" stroke-width="1"/>
  <line x1="650" y1="245" x2="840" y2="270" stroke="#444" stroke-width="1"/>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- TRADER LAYER                       -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="30" y="480" width="520" height="175" rx="10" fill="none" stroke="#0f3460" stroke-width="1" stroke-dasharray="6,3"/>
  <text x="50" y="502" fill="#53a8b6" font-size="13" font-weight="bold">trader/</text>

  <!-- Router -->
  <rect x="145" y="510" width="280" height="40" rx="8" fill="url(#traderGrad)" stroke="#e94560" stroke-width="1" filter="url(#shadow)"/>
  <text x="285" y="535" text-anchor="middle" fill="#fff" font-size="13" font-weight="bold">router.py â€” Broker Router</text>

  <!-- US / India -->
  <rect x="50" y="570" width="170" height="70" rx="8" fill="url(#traderGrad)" filter="url(#shadow)"/>
  <text x="135" y="595" text-anchor="middle" fill="#3498db" font-size="12" font-weight="bold">ğŸ‡ºğŸ‡¸ US Market</text>
  <text x="135" y="615" text-anchor="middle" fill="#aaa" font-size="10">Robinhood</text>
  <text x="135" y="630" text-anchor="middle" fill="#888" font-size="9">(robin_stocks)</text>

  <rect x="245" y="570" width="170" height="70" rx="8" fill="url(#traderGrad)" filter="url(#shadow)"/>
  <text x="330" y="595" text-anchor="middle" fill="#e67e22" font-size="12" font-weight="bold">ğŸ‡®ğŸ‡³ India Market</text>
  <text x="330" y="615" text-anchor="middle" fill="#aaa" font-size="10">Zerodha Â· ICICI Direct</text>
  <text x="330" y="630" text-anchor="middle" fill="#888" font-size="9">(kiteconnect Â· breeze)</text>

  <!-- market_data.py -->
  <rect x="440" y="570" width="100" height="70" rx="8" fill="url(#traderGrad)" filter="url(#shadow)"/>
  <text x="490" y="600" text-anchor="middle" fill="#2ecc71" font-size="11" font-weight="bold">ğŸ“ˆ</text>
  <text x="490" y="618" text-anchor="middle" fill="#aaa" font-size="10">market_data</text>
  <text x="490" y="632" text-anchor="middle" fill="#888" font-size="9">yfinance</text>

  <!-- Router to brokers -->
  <line x1="230" y1="550" x2="135" y2="570" stroke="#444" stroke-width="1"/>
  <line x1="340" y1="550" x2="330" y2="570" stroke="#444" stroke-width="1"/>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- DATA LAYER                         -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="570" y="480" width="500" height="175" rx="10" fill="none" stroke="#533483" stroke-width="1" stroke-dasharray="6,3"/>
  <text x="590" y="502" fill="#9b59b6" font-size="13" font-weight="bold">database/ &amp; storage</text>

  <!-- Trading DB -->
  <rect x="590" y="515" width="220" height="60" rx="8" fill="url(#dataGrad)" filter="url(#shadow)"/>
  <text x="700" y="540" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">ğŸ’¾ trading_agent.db</text>
  <text x="700" y="558" text-anchor="middle" fill="#aaa" font-size="10">Signals Â· Trades Â· Trends</text>

  <!-- Activity DB -->
  <rect x="830" y="515" width="220" height="60" rx="8" fill="url(#dataGrad)" filter="url(#shadow)"/>
  <text x="940" y="540" text-anchor="middle" fill="#fff" font-size="12" font-weight="bold">ğŸ“‹ activity_YYYY_MM.db</text>
  <text x="940" y="558" text-anchor="middle" fill="#aaa" font-size="10">Risk Reviews Â· API Logs</text>

  <!-- Models -->
  <rect x="590" y="590" width="220" height="50" rx="8" fill="url(#dataGrad)" filter="url(#shadow)"/>
  <text x="700" y="615" text-anchor="middle" fill="#53a8b6" font-size="12" font-weight="bold">models.py</text>
  <text x="700" y="630" text-anchor="middle" fill="#aaa" font-size="9">Signal Â· Trade Â· RiskReview Â· APICallLog</text>

  <rect x="830" y="590" width="220" height="50" rx="8" fill="url(#dataGrad)" filter="url(#shadow)"/>
  <text x="940" y="615" text-anchor="middle" fill="#53a8b6" font-size="12" font-weight="bold">db.py</text>
  <text x="940" y="630" text-anchor="middle" fill="#aaa" font-size="9">Async Sessions Â· Monthly Rotation</text>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- DASHBOARD                           -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="30" y="680" width="1040" height="55" rx="8" fill="#16213e" stroke="#53a8b6" stroke-width="1.5" filter="url(#shadow)"/>
  <text x="550" y="713" text-anchor="middle" fill="#fff" font-size="15" font-weight="bold">ğŸ“Š dashboard.py â€” Streamlit Real-Time Dashboard</text>
  <text x="900" y="713" text-anchor="middle" fill="#aaa" font-size="10">Signals Â· Trades Â· Risk Reviews Â· API Stats Â· Earnings Â· Market Status</text>

  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <!-- EXTERNAL SERVICES                   -->
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <rect x="30" y="755" width="1040" height="50" rx="8" fill="#1a1a2e" stroke="#333" stroke-width="1"/>
  <text x="130" y="785" text-anchor="middle" fill="#e94560" font-size="11" font-weight="bold">OpenAI / Azure</text>
  <text x="300" y="785" text-anchor="middle" fill="#f5a623" font-size="11" font-weight="bold">Google Gemini</text>
  <text x="460" y="785" text-anchor="middle" fill="#3498db" font-size="11" font-weight="bold">yfinance</text>
  <text x="600" y="785" text-anchor="middle" fill="#2ecc71" font-size="11" font-weight="bold">GoogleNews</text>
  <text x="740" y="785" text-anchor="middle" fill="#9b59b6" font-size="11" font-weight="bold">exchange_calendars</text>
  <text x="920" y="785" text-anchor="middle" fill="#e67e22" font-size="11" font-weight="bold">Broker APIs</text>
  <text x="550" y="770" text-anchor="middle" fill="#666" font-size="10">External Services &amp; Data Providers</text>

  <!-- Flow arrows (vertical) -->
  <line x1="550" y1="465" x2="285" y2="480" stroke="#555" stroke-width="1.5" stroke-dasharray="4,2"/>
  <line x1="550" y1="465" x2="820" y2="480" stroke="#555" stroke-width="1.5" stroke-dasharray="4,2"/>
  <line x1="400" y1="655" x2="400" y2="680" stroke="#555" stroke-width="1.5" stroke-dasharray="4,2"/>
  <line x1="700" y1="655" x2="700" y2="680" stroke="#555" stroke-width="1.5" stroke-dasharray="4,2"/>
</svg>
